(this.webpackJsonpmilow6=this.webpackJsonpmilow6||[]).push([[0],{42:function(e,a,t){e.exports=t.p+"static/media/sad.5adecef3.gif"},44:function(e,a,t){e.exports=t.p+"static/media/dance.53f4d4a2.gif"},45:function(e,a,t){e.exports=t.p+"static/media/gotit.2e439956.gif"},46:function(e,a,t){e.exports=t(94)},93:function(e,a,t){},94:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(21),c=t.n(l),s=t(2),i=t(1),o=function(e){var a=e.page,t=e.setPage;return Object(n.useEffect)((function(){"home"===a&&setTimeout((function(){var e;null===(e=document.getElementById("jaIkKom"))||void 0===e||e.focus()}),500)}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.j,{level:"h1",size:"h3"},r.a.createElement("span",{role:"img","aria-label":"party"},"\ud83c\udf89")," ","Milow jarig"),r.a.createElement(i.l,null,"Hallo! Zaterdag 24 en zondag 25 oktober vier ik mijn"," ",r.a.createElement(i.o,{inline:!0,color:"pink",style:{fontSize:"1.2em"}},r.a.createElement("strong",null,"6",r.a.createElement("sup",null,"e")))," ","verjaardag! Kom je ook?"),r.a.createElement(i.l,null,"Door de corona maatregelen mogen er niet meer dan 3 bezoekers van 13 jaar en ouder tegelijk op mijn verjaardag komen. Daarom kan je in deze app aangeven hoe laat je komt, zo kan toch iedereen komen!"),r.a.createElement(i.m,{gutter:1},r.a.createElement(i.d,{span:12,xs:12},r.a.createElement(i.b,{autoFocus:!0,id:"jaIkKom",size:"lg",buttonType:"primary",fluid:!0,onClick:function(){return t("aantal")}},r.a.createElement("span",{role:"img","aria-label":"party"},"\ud83e\udd73")," ","Ja, ik kom!")),r.a.createElement(i.d,{span:12,xs:12},r.a.createElement(i.b,{size:"lg",fluid:!0,onClick:function(){return t("jammer")}},r.a.createElement("span",{role:"img","aria-label":"sad"},"\ud83d\ude1e")," ","Ik kan niet"))))},u=t(4),m=t.n(u),d=t(14),p=t(42),b=t.n(p),f=t(26),v=Object(f.b)().notEmpty().min(3),g=Object(f.a)().min(1).max(3),E=t(43),j=t.n(E).a.create({baseURL:"https://milow6-1979.restdb.io/rest",headers:{"cache-control":"no-cache","x-apikey":"5f7618b7ed97473d24a5ced6"}}),h={create:function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.post("/cancels",{name:a});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(a){return e.apply(this,arguments)}}()},k={all:function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.get("/slots"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),byId:function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.get("/slots/".concat(a)));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),patch:function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.patch("/slots/".concat(a._id),{free:a.free}));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},y={create:function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.post("/reservations",a));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},O=function(e){var a=e.page,t=e.setPage,l=Object(n.useState)(""),c=Object(s.a)(l,2),o=c[0],u=c[1],p=Object(n.useState)(!1),f=Object(s.a)(p,2),g=f[0],E=f[1],j=Object(n.useState)(!1),k=Object(s.a)(j,2),y=k[0],O=k[1],x=Object(n.useState)(!1),S=Object(s.a)(x,2),w=S[0],z=S[1],N=function(){var e=Object(d.a)(m.a.mark((function e(a){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!w){e.next=3;break}return e.abrupt("return");case 3:if(E(!0),t=v.validate(o),t.valid){e.next=10;break}return z(!0),E(!1),null===(n=document.getElementById("jammerName"))||void 0===n||n.focus(),e.abrupt("return");case 10:return e.next=12,h.create(o);case 12:O(!0);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){"jammer"===a&&setTimeout((function(){var e;null===(e=document.getElementById("jammerName"))||void 0===e||e.focus()}),500)}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.j,{level:"h1",size:"h3"},"Jammer"),r.a.createElement(i.l,null,"Jammer dat je er niet bij bent. Wil je hieronder je naam invullen, dan weet ik dat je niet komt."),r.a.createElement(i.l,{className:"round",style:{backgroundImage:"url(".concat(b.a,")")}}),y?r.a.createElement(i.l,null,"Bedankt voor het doorgeven!"):r.a.createElement(i.n,{spinning:g,size:48,color:"primary"},r.a.createElement(i.f,{layout:"vertical",onSubmit:N},r.a.createElement(i.i,{disabled:"jammer"!==a||g,label:"Je naam",id:"jammerName",value:o,name:"name",onChange:function(e){z(!1),u(e.target.value)},hasError:w}),r.a.createElement(i.g,null,r.a.createElement(i.b,{disabled:"jammer"!==a||g,type:"submit",buttonType:"primary"},"Opslaan"),r.a.createElement(i.b,{disabled:"jammer"!==a||g,onClick:function(){u(""),z(!1),t("home")}},"Annuleren")))))},x=t(6),S=t(13),w=t(11),z=t(20),N=t(44),C=t.n(N),I=[{value:1,text:"1 persoon"},{value:2,text:"2 personen"},{value:3,text:"3 personen"}],P=["","",""],T=function(e){var a=e.setPage,t=e.setAppState,l=e.page,c=e.appState,o=Object(n.useState)([!1,!1,!1]),u=Object(s.a)(o,2),p=u[0],b=u[1],f=function(e){return function(a){var n=c.names.slice(0);n[e]=a.target.value,b(Object(z.a)({},p,Object(S.a)({},e,!1))),t(Object(z.a)({},c,{names:n}))}},E=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,r,l,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.preventDefault(),n=[],r=0;r<c.names.length;r++)l=c.names[r],s=v.validate(l),i=s.valid,n.push(!i);if(b(n),!n.includes(!0)){e.next=6;break}return e.abrupt("return");case 6:a("reserveren");case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){"aantal"===l&&setTimeout((function(){var e;null===(e=document.getElementById("aantalSelect"))||void 0===e||e.focus()}),500)}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.j,{level:"h1",size:"h3"},r.a.createElement("span",{role:"img","aria-label":"party"},"\ud83e\udd73")," ","Hoera!"),r.a.createElement(i.l,null,"Wat leuk dat je komt! "),r.a.createElement(i.l,{className:"round",style:{backgroundImage:"url(".concat(C.a,")")}}),r.a.createElement(i.f,{layout:"vertical",onSubmit:E},r.a.createElement(i.h,{label:"Aantal personen",disabled:"aantal"!==l,id:"aantalSelect",value:c.number,options:I,onChange:function(e){var a=Number(e.target.value);g.validate(a).valid&&t(Object(z.a)({},c,{number:a,names:[].concat(Object(w.a)(c.names),P).slice(0,a)}))}},r.a.createElement("small",{style:{fontStyle:"italic"}},"Met hoeveel personen van 13 jaar en ouder kom je?")),r.a.createElement(i.i,{label:"Namen",disabled:"aantal"!==l,id:"naam1",hasError:p[0],placeholder:"Naam 1",value:c.names[0],onChange:f(0)},1===c.number&&r.a.createElement("small",{style:{fontStyle:"italic"}},"Namen van personen van 13 jaar en ouder.")),c.number>1&&r.a.createElement(i.i,{disabled:"aantal"!==l,id:"naam2",hasError:p[1],placeholder:"Naam 2",value:c.names[1],onChange:f(1)},2===c.number&&r.a.createElement("small",{style:{fontStyle:"italic"}},"Namen van personen van 13 jaar en ouder.")),c.number>2&&r.a.createElement(i.i,{disabled:"aantal"!==l,id:"naam3",hasError:p[2],placeholder:"Naam 3",value:c.names[2],onChange:f(2)},3===c.number&&r.a.createElement("small",{style:{fontStyle:"italic"}},"Namen van personen van 13 jaar en ouder.")),r.a.createElement(i.g,null,r.a.createElement(i.m,{gutter:1},r.a.createElement(i.d,{span:12,xs:12},r.a.createElement(i.b,{disabled:"aantal"!==l,type:"submit",buttonType:"primary",fluid:!0,size:"lg"},"Ga verder")),r.a.createElement(i.d,{span:12,xs:12},r.a.createElement(i.b,{disabled:"aantal"!==l,fluid:!0,size:"lg",onClick:function(){return a("home")}},"Annuleren"))))))},X=t(7),A=function(e){var a=e.setPage,t=e.setAppState,l=e.page,c=e.appState,o=Object(n.useState)({loading:!1,error:!1,slots:[]}),u=Object(s.a)(o,2),p=u[0],b=u[1],f=Object(n.useState)(void 0),v=Object(s.a)(f,2),g=v[0],E=v[1],j=Object(n.useState)(!1),h=Object(s.a)(j,2),O=h[0],x=h[1],S=Object(n.useState)(!1),w=Object(s.a)(S,2),N=w[0],C=w[1],I=function(){var e=Object(d.a)(m.a.mark((function e(){var a,t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(void 0),x(!1),C(!1),b({loading:!0,error:!1,slots:[]}),e.prev=4,e.next=7,k.all();case 7:a=e.sent,t=a.data,b({loading:!1,error:!1,slots:t}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),b({loading:!1,error:!0,slots:[]});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(d.a)(m.a.mark((function e(){var n,r,l,s,i,o,u,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),n=p.slots.find((function(e){return e.id===g}))){e.next=4;break}return e.abrupt("return",C(!0));case 4:return e.next=6,k.byId(n._id);case 6:r=e.sent,(l=r.data).free<c.number&&C(!0),s=2410===n.date?"zaterdag 24 oktober":"zaterdag 25 oktober",i="".concat(n.time,":00"),e.prev=11,o=Object(X.a)(c.names),e.prev=13,o.s();case 15:if((u=o.n()).done){e.next=21;break}return d=u.value,e.next=19,y.create({code:"".concat(s," ").concat(i),name:d,slot:n.id});case 19:e.next=15;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(13),o.e(e.t0);case 26:return e.prev=26,o.f(),e.finish(26);case 29:return e.next=31,k.patch({_id:l._id,free:l.free-c.number});case 31:e.next=36;break;case 33:return e.prev=33,e.t1=e.catch(11),e.abrupt("return",C(!0));case 36:t(Object(z.a)({},c,{dag:s,tijd:i})),a("done");case 38:case"end":return e.stop()}}),e,null,[[11,33],[13,23,26,29]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){"reserveren"===l&&I()}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.j,{level:"h1",size:"h3"},r.a.createElement("span",{role:"img","aria-label":"clock"},"\ud83d\udd70")," ","Tijd kiezen"),r.a.createElement(i.l,null,"Kies hieronder de dag en tijdstip dat je op verjaardagsvisite komt."),p.loading&&r.a.createElement(i.n,{color:"primary",text:"Tijdstippen worden geladen..."}),p.error&&r.a.createElement(i.a,{type:"warning",title:"Oeps!"},r.a.createElement(i.l,null,"Er is iets mis gegaan bij het laden van de tijdstippen."," ",r.a.createElement(i.k,{href:"#/",onClick:function(e){e.preventDefault(),I()}},"Probeer opnieuw"),".")),N&&r.a.createElement(i.a,{type:"danger",title:"Oh nee!",animateOnOpen:!0},r.a.createElement(i.l,null,"Er is iets mis gegaan bij het bevestigen"," ",r.a.createElement("span",{role:"img","aria-label":"crying"},"\ud83d\ude22"),"."," ",r.a.createElement(i.k,{href:"#/",onClick:function(e){e.preventDefault(),I()}},"Probeer opnieuw"),".")),!N&&p.slots.length>0&&r.a.createElement(i.n,{spinning:O,size:96,color:"primary",text:r.a.createElement(r.a.Fragment,null,r.a.createElement(i.l,null,"Bevestiging verzenden"),r.a.createElement(i.l,null,r.a.createElement("small",{style:{fontStyle:"italic"}},"Dit kan een aantal secondes duren")))},r.a.createElement(i.m,{gutter:1},r.a.createElement(i.d,{span:12,xs:12},r.a.createElement(i.j,{level:"h2",size:"h4"},"Za 24 okt"),r.a.createElement("div",{className:"slots"},p.slots.filter((function(e){return 2410===e.date})).map((function(e){return r.a.createElement(i.b,{key:e._id,disabled:e.free<c.number||"reserveren"!==l||O,buttonType:g===e.id?"success":"default",onClick:e.free>=c.number?function(){return E(e.id)}:void 0},e.time,":00")})))),r.a.createElement(i.d,{span:12,xs:12},r.a.createElement(i.j,{level:"h2",size:"h4"},"Zo 25 okt"),r.a.createElement("div",{className:"slots"},p.slots.filter((function(e){return 2510===e.date})).map((function(e){return r.a.createElement(i.b,{key:e._id,disabled:e.free<c.number||"reserveren"!==l||O,buttonType:g===e.id?"success":"default",onClick:e.free>=c.number?function(){return E(e.id)}:void 0},e.time,":00")})))),r.a.createElement(i.d,{span:12,xs:12},r.a.createElement(i.b,{disabled:"reserveren"!==l||void 0===g||O,buttonType:"primary",fluid:!0,size:"lg",onClick:P},"Bevestigen")),r.a.createElement(i.d,{span:12,xs:12},r.a.createElement(i.b,{disabled:"reserveren"!==l||O,fluid:!0,size:"lg",onClick:function(){return a("aantal")}},"Terug")))))},B=t(45),F=t.n(B),J=function(e){e.setPage,e.setAppState,e.page;var a=e.appState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.j,{level:"h1",size:"h3"},r.a.createElement("span",{role:"img","aria-label":"thumb up"},"\ud83d\udc4d")," ","Je bent geweldig!"),r.a.createElement(i.l,null,"Goed gedaan! Je komt ",a.dag," om ",a.tijd," op verjaardagsvisite."),r.a.createElement(i.l,{className:"round",style:{backgroundImage:"url(".concat(F.a,")")}}))},D=function(){var e=Object(n.useState)("home"),a=Object(s.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({number:1,names:[""],dag:"",tijd:""}),u=Object(s.a)(c,2),m=u[0],d=u[1],p=Object(x.c)({to:{opacity:"home"===t?1:0,transform:"home"===t?"translateX(0%)":"translateX(-100%)",position:"home"===t?"static":"absolute"}}),b=Object(x.c)({to:{opacity:"aantal"===t?1:0,transform:"aantal"===t?"translateX(0%)":"home"===t?"translateX(100%)":"translateX(-100%)",position:"aantal"===t?"static":"absolute"}}),f=Object(x.c)({to:{opacity:"reserveren"===t?1:0,transform:"reserveren"===t?"translateX(0%)":"done"===t?"translateX(-100%)":"translateX(100%)",position:"reserveren"===t?"static":"absolute"}}),v=Object(x.c)({to:{opacity:"done"===t?1:0,transform:"done"===t?"translateX(0%)":"translateX(100%)",position:"done"===t?"static":"absolute"}}),g=Object(x.c)({to:{opacity:"jammer"===t?1:0,transform:"jammer"===t?"translateX(0%)":"translateX(100%)",position:"jammer"===t?"static":"absolute"}});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"app-header"}),r.a.createElement(i.e,{className:"main-container"},r.a.createElement(i.c,{className:"main-card"},r.a.createElement(x.a.div,{style:p,className:"animated"},r.a.createElement(o,{page:t,setPage:l})),r.a.createElement(x.a.div,{style:b,className:"animated"},r.a.createElement(T,{page:t,setPage:l,appState:m,setAppState:d})),r.a.createElement(x.a.div,{style:f,className:"animated"},r.a.createElement(A,{page:t,setPage:l,appState:m,setAppState:d})),r.a.createElement(x.a.div,{style:v,className:"animated"},r.a.createElement(J,{page:t,setPage:l,appState:m,setAppState:d})),r.a.createElement(x.a.div,{style:g,className:"animated"},r.a.createElement(O,{page:t,setPage:l})))))};t(92),t(93);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.05908725.chunk.js.map